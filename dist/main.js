(()=>{var e={693:()=>{new class{constructor(){this.repeatField()}repeatField(){this.repeatCount=this.getRepeatFieldCount(),this.addRepeatFieldEvent(),this.removeRepeatFieldEvent()}getRepeatFieldCount(){let e=1;const t=document.querySelectorAll(".js-omf-repeat-field");if(!t.length)return e;const r=t[t.length-1].dataset.omfValidationCount;return e=r?Number(r)+1:e,e}removeRepeatFieldEvent(){const e=document.querySelectorAll(".js-omf-remove-button");if(e.length)for(const t of e)t.addEventListener("click",(e=>{e.preventDefault(),this.removeRepeatField(e)}),!1)}addRemoveEvent(e){e&&e.addEventListener("click",(e=>{e.preventDefault(),this.removeRepeatField(e)}),!1)}removeRepeatField(e){const t=e.currentTarget.closest(".js-omf-repeat-field");t&&t.remove()}addRepeatFieldEvent(){const e=document.querySelector("#js-omf-repeat-add-button");e&&e.addEventListener("click",(e=>{e.preventDefault(),this.addRepeatField(e)}),!1)}addRepeatField(e){const t=document.querySelectorAll(".js-omf-repeat-field");if(!t.length)return;const r=t[t.length-1],n=r.cloneNode(!0),o=n.querySelectorAll('[name^="cf_omf_validation"]');let a=0;for(const e of o)e.name=this.replaceBracketsWithText(e.name,this.repeatCount),e.value=1==e.value?1:"",e.checked=!1,a===o.length-1&&(this.repeatCount=this.extractBracketContents(e.name)+1),a++;this.addRemoveEvent(n.querySelector(".js-omf-remove-button")),r.insertAdjacentElement("afterend",n)}replaceBracketsWithText(e,t){return e.replace(/(cf_omf_validation\[)(\d+)(\])/g,`$1${t}$3`)}extractBracketContents(e){const t=e.match(/cf_omf_validation\[(\d+)\]/);return t?Number(t[1]):null}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(693)})()})();
//# sourceMappingURL=main.js.map